<!DOCTYPE html>
<html>

<head>
	<title>
		New Review
	</title>
	<link rel="stylesheet" th:href="@{/css/style2.css}" />
</head>

<body>
	<div th:if="${userDetails}">
		<div th:if="${not userDetails.authorities.?[authority == 'ADMIN'].isEmpty()}">
			<div th:insert="~{/admin/indexAdmin.html :: headerAdmin}"> </div>
		</div>
		<div th:if="${not userDetails.authorities.?[authority == 'DEFAULT'].isEmpty()}">
			<div th:insert="~{/index.html :: headerUser}"> </div>
		</div>
	</div>
	<div th:unless="${userDetails}">
		<div th:insert="~{/index.html :: headerUser}"> </div>
	</div>

	<h1 style="color: #bbb; margin-left: 2%;">Add Reviews</h1>
	<div class="card-rw">
		<h3 class="card-title-rw" th:text="${movie.title}+' ('+${movie.year}+')'">Add TitoloMOvie Review</h3>
		<form class="form" th:action="@{'/user/addReview/'+${movie.id}}" th:object="${review}" method="POST">
			<div th:if="${#fields.hasGlobalErrors()}">
				<p th:each="err : ${#fields.globalErrors()}" th:text="${err}">...</p>
			</div>
			<div class="form-group-rw">
				<input type="text" class="form-control-rw" placeholder="Title" name="title" th:field="${review.title}"
					required>
				<span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
			</div>
			<div class="form-group-rw">
				<textarea class="form-control-rw body-text-rw" placeholder="BodyText" name="bodyText"
					th:field="${review.bodyText}" required></textarea>
				<span th:if="${#fields.hasErrors('bodyText')}" th:errors="*{bodyText}"></span>
			</div>
			<div>
				<div class="rating">
					<input value="5" th:field="${review.stars}" name="star-radio" id="star-1" type="radio">
					<label for="star-1">
						<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"
								pathLength="360"></path>
						</svg>
					</label>
					<input value="4" th:field="${review.stars}" name="star-radio" id="star-2" type="radio">
					<label for="star-2">
						<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"
								pathLength="360"></path>
						</svg>
					</label>
					<input value="3" th:field="${review.stars}" name="star-radio" id="star-3" type="radio">
					<label for="star-3">
						<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"
								pathLength="360"></path>
						</svg>
					</label>
					<input value="2" th:field="${review.stars}" name="star-radio" id="star-4" type="radio">
					<label for="star-4">
						<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"
								pathLength="360"></path>
						</svg>
					</label>
					<input value="1" th:field="${review.stars}" name="star-radio" id="star-5" type="radio">
					<label for="star-5">
						<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
							<path
								d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"
								pathLength="360"></path>
						</svg>
					</label>
				</div>

			</div>
			<button type="submit" class="btn btn-primary-rw">Invia</button>
		</form>
	</div>
</body>

</html>